# SQL vs NoSQL

## SQL (관계형 데이터베이스)

SQL은 구조화 된 쿼리 언어(<i>Structured Query Language</i>), 특정 DB와 상호작용하는 언어이다.

SQL을 사용하면 RDBMS에서 데이터를 저장, 수정, 삭제 및 검색 할 수 있다.

* 데이터는 정해진 데이터 스키마를 따라 DB에 저장된다.
* 데이터는 관계를 통해서 연결된 여러개의 테이블로 분산된다.

### 1. 엄격한 스키마

데이터는 테이블에 레코드로 저장되며 테이블에는 구조가 있다.

구조는 필드 이름과 데이터 유형으로 정의된다.

SQL에서 스키마를 준수하지 않는 레코드는 추가할 수 없다.

### 2. 관계

데이터를 여러개의 테이블로 나누어 데이터의 중복을 피할 수 있다.

하나의 테이블에서 하나의 데이터만 관리하기 때문에 다른 테이블에서 부정확한 데이터를 다룰 위험이 없다.

## NoSQL (비관계형 데이터베이스)

NoSQL의 특징

* 스키마 없음
* 관계 없음
  
NoSQL에서는 레코드를 문서(documents)라고 부른다.

NoSQL에서는 다른 구조의 데이터를 같은 컬렉션에 추가할 수 있다.

문서는 JSON 형태를 가지고 있다.

NoSQL에는 조인의 개념이 없는데 컬렉션을 통해 데이터를 복제해
일부분에 속하는 데이터를 가져온다.

이런 방식은 데이터가 중복되기 때문에 위험하다.

컬렉션A에서는 데이터 수정을 하지 않았는데,
컬렉션B에서만 데이터를 업데이트 할 수 있기 때문에 모든 컬렉션에서 똑같은 업데이트를 해줘야한다.

자주 변경되지 않는 데이터일때 큰 장점이 있다.

## 확장

SQL의 확장에는 두가지로 나뉜다.

* 수직적 확장
* 수평적 확장
  
수직적 확장은 DB서버의 성능을 향상시키는 것이다.

수평적 확장은 DB에 더 많은 서버가 추가되고 DB가 분산되는 것을 말한다.

SQL 데이터베이스는 샤딩(<i>Sharding</i>)이라는 전략이 있지만 제한이 있고 구현이 어렵다.

## SQL의 장점
* 명확한 스키마, 데이터 무결성 보장
* 관계의 중복없음
  
## NoSQL의 장점
* 스키마가 없어 유연하다, 새로운 필드 추가 가능
* 데이터가 JSON 형태로 저장되기 때문에 속도가 빠르다.
* 수직 및 수평 확장이 가능하므로 DB가 Application에서 발생시키는 요청을 빠르게 처리할 수 있다.

## SQL의 단점
* 상대적으로 덜 유연하다.
* 조인이 많은 복잡한 쿼리 생성 가능성
* 수평적 확장이 어렵고, 대체로 수직적 확장만 가능하다.


## NoSQL의 단점
* 여러개의 문서가 변경된 경우 업데이트를 해야한다.
* 데이터가 여러 컬렉션에 중복되어 있기 때문에 수정을 할 때 모든 컬렉션에서 수행해야한다.

## SQL 사용 상황
* 데이터가 자주 변경될 때
* 명확한 스키마가 중요할 때

## NoSQL 사용 상황
* 데이터 구조가 명확하지 않을 때
* 읽기 처리를 자주하지만, 자주 변경하지 않는 경우(한번의 수정으로 여러개를 업데이트 할 필요가 없는 경우)
* 데이터베이스를 수평으로 확장해야 하는 경우(막대한 양의 데이터 저장시)
