# 디자인 패턴

### 디자인 패턴은 효율적인 코드를 짜기 위해 사용하는 방법이다.

### 디자인 패턴의 종류는 크게 3가지로 나뉜다.

### 1. 생성 패턴 2. 구조 패턴 3. 행위 패턴

---

## 생성 패턴

생성패턴의 종류

#### 1. 싱글톤 패턴(Singleton Pattern) 
#### 2. 팩토리 메서드 패턴(Factory Method Pattern)
#### 3. 추상 팩토리 패턴(Abstract Factory Pattern)
#### 4. 빌더 패턴(Builder Pattern)

### 싱글톤 패턴

최초 한번만 메모리를 할당해 인스턴스를 생성하고 하나의 인스턴스를 공유하면서 사용하는 방식이다.

책임이 많은 객체라면 유지보수 비용이 많이 들기 때문에 책임이 적은 객체에만 사용하는 것이 좋다.

장점
1. 한번의 메모리 할당으로 메모리 낭비를 줄인다.
2. 두번째 객체 호출시에는 객체 생성을 하지 않아도 된다.

단점
1. 동시성의 문제가 생길 수 있다.
2. 결합도가 높아져 개방폐쇄 원칙을 위배할 수 있다.

DBCP(DB Connection Pool, DB와 연결을 맺고 있는 객체)와 같은 공통된 객체를 여러개 생성해 사용할 때 주로 쓰이는 방식이다. 

### 팩토리 메서드 패턴

객체 생성 처리를 서브 클래스로 분리해 더욱 캡슐화시키고 결합도는 낮추는 방식이다.

객체를 생성하기 위한 인터페이스를 정의하고 인스턴스를 생성할지에 대한 처리는 서브 클래스가 결정하는 방식이다.

### 추상 팩토리 패턴

관련있는 객체들을 하나의 팩토리로 묶어 이를 조건에 따라 생성할 수 있도록 하는 방식이다.

팩토리 메서드 패턴과 비슷하지만 공통점과 차이점이 있다.

공통점은 객체를 캡슐화한다는 점이다.

차이점으로는 팩토리 메서드는 일반적으로 하나의 객체를 생성할 때 사용하지만

추상 팩토리 패턴은 여러 객체를 하나의 집합으로 만들 때 사용한다고 한다.

추상 팩토리 패턴은 팩토리 메서드 패턴보다 조금 더 캡슐화한 방식이라고 생각하면 편할 것 같다.

### 빌더 패턴

객체를 생성할 때 많은 변수나 파라미터, 상태값의 처리할 때 생기는 문제점을 해결해주는 방식이다.

Lombok의 @Builder 어노테이션을 생각하면 이해하기 쉽다.

```java
Member member = new Member(age, number, grade, ... );
```
위의 예제와 같이 객체를 생성할 때 필요한 파라미터가 많아진다면 타입, 순서 관리가 어려워진다.

```java
Member member = Member.builder()
          .age(age)
          .number(number)
          .grade(grade)
             ⁝
          .build();
```

그렇기 때문에 LomBok의 @Builder 같은 방식을 사용하는 것이 빌더 패턴이다.

## 구조 패턴

// 임시 저장
